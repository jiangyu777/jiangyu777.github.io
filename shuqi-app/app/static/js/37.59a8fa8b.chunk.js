(window["webpackJsonpshuqi-app"]=window["webpackJsonpshuqi-app"]||[]).push([[37],{266:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t),function(e,a){n.d(t,"mobileReg",(function(){return S})),n.d(t,"codeReg",(function(){return O})),n.d(t,"num",(function(){return L})),n.d(t,"default",(function(){return I}));n(243);var o=n(245),l=n.n(o),r=(n(162),n(163)),c=n.n(r),i=(n(86),n(87)),s=n.n(i),u=(n(100),n(103)),m=n.n(u),d=(n(254),n(256)),f=n.n(d),h=(n(114),n(115)),g=n.n(h),p=n(7),b=n(8),y=n(10),E=n(9),v=n(11),C=(n(263),n(265)),k=n.n(C),j=(n(266),n(73)),w=n(81),x=n(66),S=/^1(3|5|7|8|9)\d{9}$/,O=/^\d{4}$/,F=null,L=60,P=[{title:e.createElement(k.a,null,"\u8d26\u6237\u5bc6\u7801")},{title:e.createElement(k.a,null,"\u624b\u673a\u9a8c\u8bc1\u7801")}],I=function(t){function n(){var e;return Object(p.a)(this,n),(e=Object(y.a)(this,Object(E.a)(n).call(this))).setMobile=function(t){var n=e.code.state.value;e.setState({phoneFlag:S.test(t),loginFlag:S.test(t)&&O.test(n)})},e.setCode=function(t){e.setState({loginFlag:S.test(e.mobile.state.value)&&O.test(t)})},e.receiveCode=function(){F=setInterval((function(){e.state.num>0?(e.state.num--,e.setState({num:e.state.num,txt:"\u8fd8\u5269 "+e.state.num+" S",phoneFlag:!1,toggle:!1})):(e.setState({num:L,txt:"\u83b7\u53d6\u9a8c\u8bc1\u7801",phoneFlag:!0,toggle:!0}),clearInterval(F))}),1e3),w.a.post("/react/sendCode",{mobile:e.mobile.state.value}).then((function(e){}))},e.gotoLogin=function(){w.a.post("/react/checkCode",{mobile:e.mobile.state.value,code:e.code.state.value}).then((function(e){e.data.type?(x.a.push("./mine"),sessionStorage.token=e.data.token):sessionStorage.token=""}))},e.state={phoneFlag:!1,loginFlag:!1,txt:"\u83b7\u53d6\u9a8c\u8bc1\u7801",num:L,toggle:!0},e}return Object(v.a)(n,t),Object(b.a)(n,[{key:"render",value:function(){var t=this,n=this.state,a=n.phoneFlag,o=n.loginFlag,r=n.txt;n.toggle;return e.createElement("div",{className:"indexview"},e.createElement(j.a,{title:"\u767b\u9646",show:!0}),e.createElement("div",null,e.createElement(g.a,null),e.createElement("div",null,e.createElement(l.a,{tabs:P,initialPage:"t2",tabBarActiveTextColor:"#00c98d",tabBarUnderlineStyle:{border:"2px solid #00c98d"}},e.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:"#fff"}},e.createElement(c.a,null,e.createElement(g.a,null),e.createElement(m.a,null,e.createElement(g.a,null),e.createElement(f.a,{type:"tel",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801"},"\u8d26\u6237"),e.createElement(g.a,null),e.createElement(f.a,{type:"number",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"},"\u5bc6\u7801")),e.createElement(s.a,{type:"primary",style:{backgroundColor:"#00c98d"}},"\u767b\u9646"),e.createElement("p",{style:{height:"1rem",lineHeight:"1rem"}},e.createElement("a",{style:{color:"#999"}},"\u5fd8\u8bb0\u5bc6\u7801"),e.createElement("a",{style:{color:"#00c98d",float:"right"}},"\u6ce8\u518c")))),e.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:"#fff"}},e.createElement(c.a,null,e.createElement(g.a,null),e.createElement(m.a,null,e.createElement(g.a,null),e.createElement(f.a,{type:"tel",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",ref:function(e){return t.mobile=e},onChange:this.setMobile},"\u624b\u673a\u53f7\u7801"),e.createElement(g.a,null),e.createElement(f.a,{type:"number",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",ref:function(e){return t.code=e},onChange:this.setCode},"\u9a8c\u8bc1\u7801"),e.createElement(s.a,{onClick:this.receiveCode,disabled:!a,style:{backgroundColor:"#00c98d"},className:"l-btn",inline:!0,size:"large",type:"primary"},r)),e.createElement(s.a,{onClick:this.gotoLogin,disabled:!o,type:"primary",style:{backgroundColor:"#00c98d"}},"\u767b\u9646"),e.createElement("p",{style:{height:"1rem",lineHeight:"1rem"}},e.createElement("a",{style:{color:"#999"}},"\u5fd8\u8bb0\u5bc6\u7801"),e.createElement("a",{style:{color:"#00c98d",float:"right"}},"\u6ce8\u518c"))))))))}}]),n}(a)}.call(this,n(3),n(3).Component)},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=new(n(6).a)},73:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return h}));n(76);var o=n(77),l=n.n(o),r=(n(82),n(83)),c=n.n(r),i=n(7),s=n(8),u=n(10),m=n(9),d=n(11),f=(n(74),n(66)),h=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).goback=function(e){e&&f.a.go(-1)},n.gotoSearch=function(){f.a.push("/home")},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.show;return a.createElement(l.a,{className:"head",mode:"dark",icon:t&&a.createElement(c.a,{style:{color:"#00c98d"},type:"left"}),onLeftClick:function(){return e.goback(t)},rightContent:[a.createElement("img",{src:n(75),onClick:this.gotoSearch,style:{width1:"0.4rem",height:"0.4rem"}})]},this.props.title)}}]),t}(e)}).call(this,n(3).Component,n(3))},74:function(e,t,n){},75:function(e,t,n){e.exports=n.p+"static/media/home.48a04f55.png"},81:function(e,t,n){"use strict";n(91),n(92);var a=n(93),o=n.n(a),l=(n(94),n(95)),r=n.n(l),c=n(80),i=n.n(c),s=n(66);i.a.defaults.baseURL="https://jiangyu777.com:1906/";i.a.defaults.headers.common.token="",i.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var u=r.a.alert;function m(e){o.a.hide(),o.a.fail(e,1)}i.a.interceptors.request.use((function(e){var t;return t="\u8bf7\u6c42\u4e2d",o.a.hide(),o.a.loading(t,1,(function(){console.log("Load complete !!!")})),e.headers.token=sessionStorage.token,console.log(e),e}),(function(e){return m("\u8bf7\u6c42\u5931\u8d25"),Promise.reject(e)})),i.a.interceptors.response.use((function(e){var t;return console.log(e),t=e.data.msg,o.a.hide(),o.a.info(t,1),500==e.data.code&&function(){var e=u("\u767b\u5f55\u63d0\u793a","\u4f60\u786e\u5b9a\u662f\u5426\u524d\u5f80\u767b\u9646",[{text:"\u6211\u5c31\u770b\u770b",onPress:function(){return console.log("\u6e38\u5ba2\u8bbf\u95ee")},style:"default"},{text:"\u9a6c\u4e0a\u767b\u5f55",onPress:function(){return s.a.push("/login")}}]);setTimeout((function(){console.log("auto close"),e.close()}),5e5)}(),e}),(function(e){return m("\u54cd\u5e94\u5931\u8d25"),Promise.reject(e)})),n.d(t,"a",(function(){return i.a}))}}]);
//# sourceMappingURL=37.59a8fa8b.chunk.js.map